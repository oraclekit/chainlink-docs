<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>ChainLink Documentation</title>
    <link rel="icon" type="image/png" href="images/sc-icon.png">

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <link href="stylesheets/custom.css" rel="stylesheet" media="screen" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='mailto:support@smartcontract.com'>Need Help?</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="introduction">Introduction</h1>

<p>Welcome to the ChainLink API documentation. An oracle provides data into the blockchain that cannot be accessed by the blockchain itself, due to consensus constraints. ChainLink makes it easy to integrate external data with the blockchain, both passing it in and sending it out.</p>

<p>See the section on <a href="#assignments">Assignments</a> for information on how to specify the data you would like to connect to the blockchain.</p>

<p>ChainLink is the core of the Oracle Kit, <a href="https://dev.smartcontract.com">learn more here</a>.</p>

<h2 id="installation">Installation</h2>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
<li>Docker installed</li>
<li>a running instance of Postgres, version 9.3 or above</li>
<li>a running instance of Ethereum with the <a href="https://github.com/ethereum/wiki/wiki/JSON-RPC">JSON-RPC interface</a> enabled</li>
</ul>

<h3 id="install">Install</h3>
<pre class="highlight shell"><code>docker pull smartcontract/chainlink
docker run -it --env-file<span class="o">=</span>.env smartcontract/chainlink rake oracle:initialize
</code></pre>

<p>First set up your configuration, by creating a <code class="prettyprint">.env</code> file, that has at least the variables set in the <a href="https://github.com/oraclekit/smart_oracle/blob/master/spec/support/dotenv.example">.env example</a>.</p>

<p>Once you have set up your database and configuration, and you are ready to initialize ChainLink.</p>

<p>On initialization, the oracle will give the option to print the first list of coordinator credentials. Be sure to record the coordinator credentials for use with the oracle moving forward.</p>

<h3 id="run">Run</h3>
<pre class="highlight shell"><code>docker run -t --env-file<span class="o">=</span>.env smartcontract/chainlink
</code></pre>

<p>Once the database and Etehreum node are set up, you can run your oracle with your configured environment.</p>

<p>For more information on setting up an instance, or building it locally, visit the <a href="https://github.com/oraclekit/smart_oracle/wiki/Install">wiki page on installation</a>. Alternatively, if you want to view the source code, you can do so on <a href="https://github.com/oraclekit/smart_oracle">GitHub</a>.</p>

<p><br/></p>

<p>To have a managed instance spun up for you, contact us at <a href="mailto:support@smartcontract.com">support@smartcontract.com</a>.</p>

<h2 id="authentication">Authentication</h2>
<pre class="highlight shell"><code>curl -u apiKey:apiSecret
  http://localhost:6688/assignments/f0577c3e-9e5a-4840-9c9b-37d326c3d2e3
</code></pre>

<p>Both coordinators and adapters need to authenticate to access the data they are allowed access to. In both cases authentication is handled via HTTP Authentication.</p>

<h3 id="coordinator-authentication">Coordinator Authentication</h3>

<p>To access an assignment you must have a set of coordinator credentials. An initial set of coordinator credentials are generated and printed when the node&rsquo;s <code class="prettyprint">initialize</code> command is run.</p>

<p>All assignments are associated with a coordinator, so in order to create an assignment you must authenticate using its coordinator&rsquo;s credentials. After creating an assignment all subsequent updates will be sent to its coordinator, if the coordinator has specified a URL.</p>

<h3 id="adapter-authentication">Adapter Authentication</h3>

<p>Assignments can optionally be associated with an external adapter. The adapter credentials are automatically generated when the adapter record is created. From then on ChainLink requires that all communication to and from that adapter must be authenticated.</p>

<h1 id="assignments">Assignments</h1>

<p>The work specified for ChainLink is called an Assignment. <a href="#assignments">Assignments</a> can be handled by the oracle itself, or the oracle&rsquo;s capabilities can be expanded by creating an adapter for the oracle.</p>

<p>Assignments make up the specifcation of the work, but each piece of the ongoing work is captured in a snapshot. <a href="#create-assignment-snapshot">Snapshots</a> are generated by whichever adapter is handling the work, recorded by the oracle, and reported back to the coordinator.</p>

<h2 id="anatomy-of-an-assignment">Anatomy of an Assignment</h2>

<p>Assignments are the core of the ChainLink model, they are the specifications of work given to an oracle. The main pieces of an assignment consist of the <a href="#adapter-type-and-parameters">adapter</a>, the <a href="#scheduling">scheduling</a>, and the <a href="#payment">payment specification</a>. Optionally, an assignment can have a description and signatures from the parties involved.</p>

<h3 id="adapter-type-and-parameters">Adapter Type and Parameters</h3>

<p>Every assignment has a type, which specifies the kind of adapter the oracle will use to perform the work requested. Each different type of adapter requires different parameters, some passed on the blockchain, some passed off chain. The parameters each adapter will accept are specified ahead of time by the adapter&rsquo;s creator.</p>

<p>ChainLink currently ships with several built in adapters, see the Core Adapters section for more information.</p>

<h3 id="subtasks">Subtasks</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"adapterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereumBytes32"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"adapterParams"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x34d946ab16079a97976e006079efe422b1fe1905"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8b147245"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Subtasks are a series of steps taken by the oracle to complete an assignment. Each time an assignment is updated it processes its pipeline of subtasks, each of which is handled by an <a href="#adapter-type-and-parameters">adapter</a>. The subtask&rsquo;s initial configuration, along with any data passed from earlier subtasks in the pipeline are passed to the adapter for each update. The adapter&rsquo;s output for the subtask is passed to the next subtask, until the final subtask&rsquo;s output determines the values of the assignment&rsquo;s latest <a href="#snapshots">snapshot</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>adapterType</td>
<td>string</td>
<td>identifies the type of work to be done</td>
</tr>
<tr>
<td>adapterParams</td>
<td>object</td>
<td>a JSON object meeting the requirements of the adapter&rsquo;s schema, setting the initial configuration for the adapter</td>
</tr>
</tbody></table>

<h3 id="scheduling">Scheduling</h3>

<p>Some oracle services are needed on a scheduled basis. For these use cases, ChainLink provides a simple way to schedule tasks based on the <a href="https://en.wikipedia.org/wiki/Cron">Cron</a> scheduling format, or specify times to run at.</p>

<p>Assignments that do not require a schedule, instead work on demand, can skip the schedule or offer a combination of both on demand updates and scheduled updates.</p>

<p>All assignments require a end time and allow for an optional start time, defaulting to the assignment start time. Times are specified using Unix timestamps(UTC).</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"minute"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hour"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dayOfMonth"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"monthOfYear"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"dayOfWeek"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"startAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1477941966"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"endAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1793474734"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"runAt"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1518726087"</span><span class="p">,</span><span class="w"> </span><span class="s2">"1802722889"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>minute</td>
<td>string</td>
<td>cron style minute listing for how often to run recurring snapshots</td>
</tr>
<tr>
<td>hour</td>
<td>string</td>
<td>cron style hour listing for how often to run recurring snapshots</td>
</tr>
<tr>
<td>dayOfMonth</td>
<td>string</td>
<td>cron style day of month listing for how often to run recurring snapshots</td>
</tr>
<tr>
<td>monthOfYear</td>
<td>string</td>
<td>cron style month of year listing for how often to run recurring snapshots</td>
</tr>
<tr>
<td>dayOfWeek</td>
<td>string</td>
<td>cron style day of week listing for how often to run recurring snapshots</td>
</tr>
<tr>
<td>startAt</td>
<td>string</td>
<td>a unix timestamp for when to start the recurring snapshot schedule. Optional defaults to the time the assignment is created.</td>
</tr>
<tr>
<td>endAt</td>
<td>string</td>
<td>a unix timestamp for when to end the recurring snapshot schedule</td>
</tr>
<tr>
<td>runAt</td>
<td>array</td>
<td>an array of unix timestamps for discrete update times</td>
</tr>
</tbody></table>

<h3 id="payment">Payment</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"perDay"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"perRequest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000000000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Space on blockchains is limited and thus costly to utilize. On the other side of the oracle, API calls to protected APIs are often behind pay walls. Oracle services by their nature come with expenses. For this reason, the ChainLink platform has a way to specify service prices for each adapter.</p>

<p>Prices are generally set per request made by the oracle; This can be prepaid for scheduled services, or paid per request for on demand services. Additionally, prices can be set based on the duration of required availability of the oracle.</p>

<p>The currency is configurable based on the networks that the oracle operates in. Currency amounts are always specified in the lowest possible denomination of the currency(Satoshis, Wei, etc.).</p>

<h2 id="create">Create</h2>
<pre class="highlight shell"><code>curl -u apiKey:apiSecret -X POST -H <span class="s1">'Content-Type: application/json'</span>
  -d <span class="s1">'{"assignment":{"subtasks":[{"adapterType": "httpGetJSON", "adapterParams": {"endpoint": "https://bitstamp.net/api/ticker/", "fields": ["last"]}},{"adapterType":"ethereumBytes32"}]}, "schedule":{"endAt":"1478028219","hour":"0","minute":"0"}},"version":"1.0.0"}'</span>
  http://localhost:6688/assignments
</code></pre>

<blockquote>
<p>JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"assignmentHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b2e55902bb7728871fa69f503007577ef8a1ae449f486b5c0aaf644661d216d1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1cb6770f6977710c7c3e0d336d3d2244a0d276056029cb83f414d8641ef412218d2a36df9ccde31ee50310d9eef098fa153b34ad9075d02737243a59c5dbd6d357"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"561b78af-e163-4972-9d4a-5dc15e02d977"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A <code class="prettyprint">POST</code> to <code class="prettyprint">/assignments</code> will return the <code class="prettyprint">XID</code>, or external ID, which is used to identify the assignment in the future. The response also includes a hash of the assignment specified, and a signature of that hash to attest to the oracle&rsquo;s acceptance of the assignment.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>subtasks</td>
<td>array</td>
<td>an ordered list of the assignment&rsquo;s <a href="#subtasks">subtasks</a></td>
</tr>
<tr>
<td>schedule</td>
<td>object</td>
<td>an <a href="#scheduling">assignment schedule object</a></td>
</tr>
<tr>
<td>version</td>
<td>string</td>
<td>specify the version of the <a href="https://github.com/smartcontractkit/spec">assignment spec</a>, use &ldquo;1.0.0&rdquo; for the latest version</td>
</tr>
</tbody></table>

<aside class="success">
Make sure to grab the XID to refer to the assignment in the future. The assignment hash is intentionally not used in the future, as the XID is not easily linkable with the assignment.
</aside>

<h2 id="show">Show</h2>
<pre class="highlight shell"><code>curl -u apiKey:apiSecret http://localhost:6688/assignments/f0577c3e-9e5a-4840-9c9b-37d326c3d2e3
</code></pre>

<blockquote>
<p>JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"adapterType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereumBytes32JSON"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"endAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1480720191"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"last"</span><span class="p">],</span><span class="w">
    </span><span class="nt">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitstamp.net/api/ticker/"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"snapshots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blockchain Record: 0x865167b8e74daec5e0f2faf4975b7fe21d791b83d7c6ba10ece7e4d0b193461e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://testnet.etherscan.io/tx/0x865167b8e74daec5e0f2faf4975b7fe21d791b83d7c6ba10ece7e4d0b193461e"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"726.60"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Assignment \"1\" updated its value to \"726.60\"."</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"726.60"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x865167b8e74daec5e0f2faf4975b7fe21d791b83d7c6ba10ece7e4d0b193461e"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"startAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1478128191"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="s2">"in progress"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0577c3e-9e5a-4840-9c9b-37d326c3d2e3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A coordinator can check the state of one of their assignments and get a list of all the related snapshots.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>adapterType</td>
<td>string</td>
<td>identifies the type of work to be done</td>
</tr>
<tr>
<td>endAt</td>
<td>string</td>
<td>specify the time the assignment will run until (Unix timestamp)</td>
</tr>
<tr>
<td>parameters</td>
<td>object</td>
<td>a JSON object meeting the requirements of the adapter&rsquo;s schema</td>
</tr>
<tr>
<td>snapshots</td>
<td>array</td>
<td>an list of associated snapshot objects</td>
</tr>
<tr>
<td>startAt</td>
<td>string</td>
<td>specify the time the assignment is/was scheduled to start at (Unix timestamp)</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>assignment&rsquo;s current execution status</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the assignment</td>
</tr>
</tbody></table>

<h3 id="snapshots">Snapshots</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h1 id="snapshots">Snapshots</h1>

<h2 id="create">Create</h2>
<pre class="highlight shell"><code>curl -u apiKey:apiSecret -X POST
  http://localhost:6688/assignments/f0577c3e-9e5a-4840-9c9b-37d326c3d2e3/snapshots
</code></pre>

<blockquote>
<p>JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"assignmentXID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0577c3e-9e5a-4840-9c9b-37d326c3d2e3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blockchain record: 0x2d8b24bc521a7fb02c1eb3e157296517f628646f6b5b8ee8952034fa2ca7f385"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io/tx/0x2d8b24bc521a7fb02c1eb3e157296517f628646f6b5b8ee8952034fa2ca7f385"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitstamp.net"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2d8b24bc521a7fb02c1eb3e157296517f628646f6b5b8ee8952034fa2ca7f385"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1035.03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The oracle value was updated to \"1035.03\""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1035.03"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0799f829-15e8-475f-8f3e-a55488713da0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>A <code class="prettyprint">POST</code> to <code class="prettyprint">/assignments/XID/snapshots</code> will always return the <code class="prettyprint">XID</code> of a snapshot. Depending on what steps are required of the assignment, it may return all of the snapshot immediately, or if the details take time to compute the results of the snapshot will be retrievable with the assignment&rsquo;s <code class="prettyprint">XID</code>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h2 id="show">Show</h2>
<pre class="highlight shell"><code>curl -u apiKey:apiSecret http://localhost:6688/snapshots/0799f829-15e8-475f-8f3e-a55488713da0
</code></pre>

<blockquote>
<p>JSON response:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"assignmentXID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0577c3e-9e5a-4840-9c9b-37d326c3d2e3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blockchain record: 0x2d8b24bc521a7fb02c1eb3e157296517f628646f6b5b8ee8952034fa2ca7f385"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://etherscan.io/tx/0x2d8b24bc521a7fb02c1eb3e157296517f628646f6b5b8ee8952034fa2ca7f385"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitstamp.net"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2d8b24bc521a7fb02c1eb3e157296517f628646f6b5b8ee8952034fa2ca7f385"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1035.03"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The oracle value was updated to \"1035.03\""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1035.03"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0799f829-15e8-475f-8f3e-a55488713da0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To retrieve the details of a snapshot, you can issue a <code class="prettyprint">GET</code> request to <code class="prettyprint">/snapshots/XID</code>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h1 id="core-adapters">Core Adapters</h1>

<p>Core Adapters are the built in adapters that ship with ChainLink. Below are the types of adapters available out of the box:</p>

<p><a href="#external-adapters">External Adapters</a> can be configured if you would like to configure custom behavior and computation.</p>

<h2 id="bitcoincomparisonjson">bitcoinComparisonJSON</h2>

<p>Parses a GET request to a JSON API, compares the parsed value to the value passed into the configuration. Returns the signature of a Bitcoin transaction. If the comparison succeeds then adapter signs the success transaction, if the comparison does not succeed, no transaction is signed. If the deadline for the assignment passes, then the failure transaction is signed.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"comparison"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bitstamp.net/api/ticker/"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"last"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>comparison</td>
<td>string</td>
<td>The operation used to compare the base value to the dynamic value. Options: <code class="prettyprint">===</code>, <code class="prettyprint">&lt;</code>, <code class="prettyprint">&gt;</code>, or <code class="prettyprint">contains</code>.</td>
</tr>
<tr>
<td>endpoint</td>
<td>string</td>
<td>The URL that the JSON is pulled from.</td>
</tr>
<tr>
<td>fields</td>
<td>array</td>
<td>The key path to follow to get the value to compare with the base value.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>The base value which is compared to they dynamic value. If possible the base value is coerced to the type of the dynamic value, if it is not possible the comparison is treated as false and an empty value is returned.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_value</td>
<td>string</td>
<td>(optional) Input parameters are not used by this adapter.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2393.45</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>The value parsed out of the JSON API.</td>
</tr>
</tbody></table>

<h2 id="ethereumbytes32">ethereumBytes32</h2>

<p>Formats the input as Ethereum bytes32 value and writes it into the specified contract. Deploys an oracle contract that is updated if a contract address is not provided. Returns the input value converted to a string and shortened to 32 characters, and the transaction ID of the update issued.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x27B07c528de014E58AeEE3eaa0805a9b0f33fB1F"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"functionID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d529c153"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>(optional) Ethereum address to send the data to, if a contract to update already exists.</td>
</tr>
<tr>
<td>functionID</td>
<td>string</td>
<td>(optional) Ethereum function ID to send the data to, if a contract to update already exists.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2364.45"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Converted to a string from which the first 32 bytes are pulled and formatted to be written into Ethereum <code class="prettyprint">bytes32</code> format.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2364.45"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3c5c7bd7e7be9d4e264b43f8f1c617c57ec93110576cdad171a76da988525478"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>The input value passed in, converted to string, and then pulled the first 32 bytes.</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>ID of the transaction that was written into Ethereum to create the update.</td>
</tr>
</tbody></table>

<h2 id="ethereumformatted">ethereumFormatted</h2>

<p>Writes a preformatted Ethereum hexadecimal value into the blockchain as configured. Returns the preformatted value that was provided as input.</p>

<p><code class="prettyprint">ethereumFormatted</code> can also be used as an alarm clock, which is preconfigured to call a function on a transaction.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x27B07c528de014E58AeEE3eaa0805a9b0f33fB1F"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"functionID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d529c153"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58ea975797ad9184869ce4a9505d02517b4faa5dc4de751fdabda9552b0ce514"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000000000000000000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>Ethereum address to send the data to.</td>
</tr>
<tr>
<td>functionID</td>
<td>string</td>
<td>Ethereum function ID to send the data to.</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>(optional) Hexadecimal value to be sent in. This value is used as a fallback if no input value is passed in from the adapter pipeline.</td>
</tr>
<tr>
<td>amount</td>
<td>integer</td>
<td>(optional) Amount of Ether to send to the contract along with the data.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b4346adc850180266e030900a53167290c77e1bbaaf9b550dcf5b6d5f630a63e"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Hexadecimal value that will be sent in to the Ethereum contract. Requires the value already be formatted as hex.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b4346adc850180266e030900a53167290c77e1bbaaf9b550dcf5b6d5f630a63e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x99a4ded175f0c6adc2edfb0a06da412f4201816d50fc1eb8d9bbfb19cd227bf3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>The input value passed in as hexadecimal.</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>ID of the transaction that was written into Ethereum to create the update.</td>
</tr>
</tbody></table>

<h2 id="ethereumint256">ethereumInt256</h2>

<p>Formats the input as Ethereum int256 value and writes it into the specified contract. Deploys an oracle contract that is updated if a contract address is not provided. Returns the input value multiplied by the <code class="prettyprint">resultMultiplier</code> and converted to an integer, and the transaction ID of the update issued.</p>

<p>Due to constraints in the EVM, decimal value were not represented. The <code class="prettyprint">resultMultiplier</code> parameter is an optional parameter to address that. If an input value has a decimal, the multiplier allows you to capture the decimal information by multiplying the value and increasing it orders of magnitude. For example if an API for Bitcoin price in US Dollars returns cents, you can set the multiplier to <code class="prettyprint">100</code>, and the value <code class="prettyprint">2452.75</code> will be converted to <code class="prettyprint">245275</code>. By default the value is set to <code class="prettyprint">1</code>.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x27B07c528de014E58AeEE3eaa0805a9b0f33fB1F"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"functionID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d529c153"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resultMultiplier"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>(optional) Ethereum address to send the data to, if a contract to update already exists.</td>
</tr>
<tr>
<td>functionID</td>
<td>string</td>
<td>(optional) Ethereum function ID to send the data to, if a contract to update already exists.</td>
</tr>
<tr>
<td>resultMultiplier</td>
<td>integer</td>
<td>(optional) Amount to multiply the value passed in by. Allows for decimal value to be increased so that their precision is accounted for by integers. Defaults to 1.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2364.45"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Multiplied by the <code class="prettyprint">resultMultiplier</code> and converted to an integer, then formatted to be written into Ethereum <code class="prettyprint">int256</code> format.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2364.45"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3c5c7bd7e7be9d4e264b43f8f1c617c57ec93110576cdad171a76da988525478"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>integer</td>
<td>The input value passed in mutliplied by the <code class="prettyprint">resultMultiplier</code> and converted to an integer.</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>ID of the transaction that was written into Ethereum to create the update.</td>
</tr>
</tbody></table>

<h2 id="ethereumlogwatcher">ethereumLogWatcher</h2>

<p>If an Ethereum event log which matches the configured filters is created, the adapter triggers a new snapshot. Wherever the adapter is in the pipeline, it stores the event log and uses that as the output passes down the pipeline.</p>

<p>If this adapter is present and a snapshot is triggered, but no event log is present, this adapter passes its inputs to the next adapter as its output, unmodified.</p>

<p>Useful for creating &ldquo;pull&rdquo; based oracles where the oracle values are requested on demand.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x85A11A056D27c822fF1B9a429488EfCF9b5A8fa3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"da39f17b584e804a6da2d1f5cd7428a108623a03167d8b5f3c1af14b0d34e021"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>Ethereum address to watch for logs.</td>
</tr>
<tr>
<td>topics</td>
<td>string</td>
<td>Event topics to watch for in logs.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_value</td>
<td>string</td>
<td>(optional) Input parameters are not used by this adapter.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x732777E1d2940CC7f1c6F1eff0c62Aa7844F7623"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"blockHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7932fe0c2500450b41389caac75b086a10ffefff4a6b5f637d00988f9f7f810d"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"blockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">485196</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe51ee529abdd443102533e0f12537b3f09789b73f9381d42c0bdb11818b724c8"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"logIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span><span class="w">
  </span><span class="nt">"topics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"0xa81633b25c7ee4172722e6586eb1c6faf5b196dd75fc874d636fde119f9df31f"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"transactionHash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xeac26ca07de6a0c44d1ccb54c77ac50ff8f5179749512bc167e796950dc5a220"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"transactionIndex"</span><span class="p">:</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xe51ee529abdd443102533e0f12537b3f09789b73f9381d42c0bdb11818b724c8"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>Ethereum address where the log was generated.</td>
</tr>
<tr>
<td>blockHash</td>
<td>string</td>
<td>Hash of the block which generated the log.</td>
</tr>
<tr>
<td>blockNumber</td>
<td>integer</td>
<td>Block height at the time the log was generated.</td>
</tr>
<tr>
<td>data</td>
<td>string</td>
<td>Hexadecimal representation of the values logged by the event.</td>
</tr>
<tr>
<td>logIndex</td>
<td>integer</td>
<td>Count of logs occuring before the reported log in the transaction.</td>
</tr>
<tr>
<td>topics</td>
<td>array</td>
<td>List of topics that the log indicated as relevant.</td>
</tr>
<tr>
<td>transactionHash</td>
<td>string</td>
<td>Identifier of the tranasaction which generated the log.</td>
</tr>
<tr>
<td>transactionIndex</td>
<td>integer</td>
<td>Position of the transaction within the block that recorded the log.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>Hexadecimal representation of the values logged by the event. (Same as <code class="prettyprint">data</code>.)</td>
</tr>
</tbody></table>

<h2 id="ethereumuint256">ethereumUint256</h2>

<p>Formats the input as Ethereum int256 value and writes it into the specified contract. Deploys an oracle contract that is updated if a contract address is not provided. Returns the input value multiplied by the <code class="prettyprint">resultMultiplier</code> and converted to a positive integer, and the transaction ID of the update issued.</p>

<p>Due to constraints in the EVM, decimal value were not represented. The <code class="prettyprint">resultMultiplier</code> parameter is an optional parameter to address that. If an input value has a decimal, the multiplier allows you to capture the decimal information by multiplying the value and increasing it orders of magnitude. For example if an API for Bitcoin price in US Dollars returns cents, you can set the multiplier to <code class="prettyprint">100</code>, and the value <code class="prettyprint">2452.75</code> will be converted to <code class="prettyprint">245275</code>. By default the value is set to <code class="prettyprint">1</code>.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x27B07c528de014E58AeEE3eaa0805a9b0f33fB1F"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"functionID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d529c153"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"resultMultiplier"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>(optional) Ethereum address to send the data to, if a contract to update already exists.</td>
</tr>
<tr>
<td>functionID</td>
<td>string</td>
<td>(optional) Ethereum function ID to send the data to, if a contract to update already exists.</td>
</tr>
<tr>
<td>resultMultiplier</td>
<td>integer</td>
<td>(optional) Amount to multiply the value passed in by. Allows for decimal value to be increased so that their precision is accounted for by integers. Defaults to 1.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2364.45"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>Multiplied by the <code class="prettyprint">resultMultiplier</code> and converted to a positive integer, then formatted to be written into Ethereum <code class="prettyprint">uint256</code> format.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2364.45"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3c5c7bd7e7be9d4e264b43f8f1c617c57ec93110576cdad171a76da988525478"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>integer</td>
<td>The input value passed in mutliplied by the <code class="prettyprint">resultMultiplier</code> and converted to a positive integer.</td>
</tr>
<tr>
<td>txid</td>
<td>string</td>
<td>ID of the transaction that was written into Ethereum to create the update.</td>
</tr>
</tbody></table>

<h2 id="httpgetjson">httpGetJSON</h2>

<p>Retrieves JSON and returns the specific field selected in the configuration.</p>

<p>Parses a specific field out of the response of a GET request to a JSON API.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"recent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"price"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.example.com/feed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"basicAuth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"satoshi"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I&lt;3Ethereum"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"headers"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Content-Type: application/json"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td>array</td>
<td>The key path to follow to get the value to compare with the base value.</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td>The URL that the JSON is pulled from.</td>
</tr>
<tr>
<td>basicAuth</td>
<td>object</td>
<td>(optional) JSON Object containing <code class="prettyprint">username</code> and <code class="prettyprint">password</code> fields.</td>
</tr>
<tr>
<td>headers</td>
<td>string</td>
<td>(optional) Headers to be included in request.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_value</td>
<td>string</td>
<td>(optional) Input parameters are not used by this adapter.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2350.00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>value</td>
<td>string</td>
<td>The value parsed out of the JSON API.</td>
</tr>
</tbody></table>

<h2 id="jsonreceiver">jsonReceiver</h2>

<p>Generates a URL for the oracle to receive JSON push notifications. Parses the pushed JSON and returns the specific field selected in the configuration.</p>

<p>If this adapter is present and a snapshot is triggered, but no request was made to the API, this adapter passes its inputs to the next adapter as its output, unmodified.</p>

<p>Useful for creating &ldquo;pull&rdquo; based oracles where the oracle values are requested on demand.</p>

<h3 id="configuration">Configuration</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"recent"</span><span class="p">,</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w"> </span><span class="s2">"price"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>fields</td>
<td>array</td>
<td>The key path to follow to get the value to compare with the base value.</td>
</tr>
</tbody></table>

<h3 id="update-input">Update Input</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>_value</td>
<td>string</td>
<td>(optional) Input parameters are not used by this adapter.</td>
</tr>
</tbody></table>

<h3 id="update-output">Update Output</h3>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"recent"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2352.38</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="mf">2352.38</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>details</td>
<td>object</td>
<td>The full JSON payload passed into the oracle API endpoint.</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>The value parsed out of the JSON API.</td>
</tr>
</tbody></table>

<h1 id="external-adapters">External Adapters</h1>

<p>ChainLink ships with out of the box functionality, including the ability to connect to Ethereum contracts and Bitcoin escrow released via JSON APIs. The real power of the ChainLink platform lies in its abilitiy to be extended. External Adapters can be configured with ChainLink to add specialized functionality. Whether it parsing a different data format like XML, or special computation, ChainLink makes it possible to further extend off-chain capabilities via adapters.</p>

<h3 id="apis">APIs</h3>

<p>External Adapters are currently integrated in a service oriented fashion; they are run separately from the core, and are communicated with via REST APIs. This separation allows External Adapters to be written in whichever language is best suited to the task at hand. Additionally, the service oriented model allows for External Adapters to be either colocated on the same machine using something like Docker Compose, or they can run remotely on servers located on the other side of the world.</p>

<p>This flexiblity is possible via a few simple APIs. Which APIs an External Adapter requires depends on if it will pull or push new Snapshot updates; adapters must conform to at least the push or pull APIs, conforming to both allows for the most flexiblity.</p>

<p>Whether using the push or pull APIs, External Adapters need to format their output in a way that can be consumed by other adapters. This comes down to a few basic fields in JSON, with some optional support for human readability and feedback.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h3 id="oracle-schema">Oracle Schema</h3>

<p>In order to make an adapter&rsquo;s input and output predictable, adapters need to specify schemas. Schemas are created using a <a href="https://json-schema.org">JSON Schema</a> for expected prerequisites and on/off-chain inputs/outputs. See the <a href="https://github.com/oraclekit/spec">specification here</a>, or provide an empty schema to get started quickly. Schemas can be used to check the upfront configuration of an adapter, and the <code class="prettyprint">details</code> of a snapshot.</p>

<h3 id="authentication">Authentication</h3>

<p>When you create you configure your External Adapter with ChainLink, a set of basic auth credentials will be generated for you.</p>

<h2 id="create-assignment">Create Assignment</h2>

<p><strong><em>Required</em></strong>: <code class="prettyprint">POST</code> to adapter path <code class="prettyprint">/assignments</code></p>

<p>The action used for an oracle to pass an assignment to an adapter. The adapter response should include:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c21bd20f-2439-41e3-831d-d650f3d24e7e"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"endAt"</span><span class="p">:</span><span class="w"> </span><span class="mi">1814134222</span><span class="p">,</span><span class="w">
  </span><span class="nt">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"some"</span><span class="p">:</span><span class="w"> </span><span class="s2">"more information"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>xid</td>
<td>string</td>
<td>the unique identifier to associate an assignment with</td>
</tr>
<tr>
<td>endAt</td>
<td>string</td>
<td>a Unix Timestamp of when the assignment must finish by</td>
</tr>
<tr>
<td>data</td>
<td>object</td>
<td>(optional) Subtask initialization results. Information that can be determined only once the subtask details have been given to the adapter. This will be used as initialization details sent to the coordinator once all subtasks have been initialized.</td>
</tr>
</tbody></table>

<h2 id="create-snapshot-pull">Create Snapshot <em>(Pull)</em></h2>

<p><code class="prettyprint">POST</code> to adapter path <code class="prettyprint">/assignments/:assignment_xid/snapshots</code></p>

<p>The action used for an oracle to pass a Snapshot update over to an adapter. The response should include:</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was successfully released via FundFriend."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fundfriend.com/transactions/21433245"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.00</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"fulfilled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in progress"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was released from Alice to Bob."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7e18eba-f5a1-45aa-a378-b4bcbbfbc4c6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>fulfilled</td>
<td>boolean</td>
<td>marks whether the snapshot has been completed or not</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>a description of the assignment&rsquo;s current status</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h3 id="unfulfilled-snapshots">Unfulfilled Snapshots</h3>

<p>Creating a snapshot may require more time than you are willing to leave a request hanging for. Snapshots that are requested via the pull style can be marked as unfulfilled upon creation, and fulfilled at a later time.</p>

<p>In order to fulfill an unfulfilled snapshot you must implement the update snapshot integration.</p>

<h2 id="delete-assignment">Delete Assignment</h2>

<p><code class="prettyprint">DELETE</code> to <code class="prettyprint">/assignments/:xid</code></p>

<p>Used to indicate the end of an assignment.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"failed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f1b5d2a-8f2b-486d-bfe9-45385004cfa3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>status</td>
<td>string</td>
<td>optional string to specify the final state of the assignment</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>identifier of the assignment</td>
</tr>
</tbody></table>

<h2 id="create-snapshot-push">Create Snapshot <em>(Push)</em></h2>

<p><code class="prettyprint">POST</code> pushed to the core path <code class="prettyprint">/snapshots</code></p>

<p><strong>This is an integration that originates in the adapter and is pushed from the adapter to the core.</strong></p>

<p>A pushed snapshot is automatically marked as fulfilled.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was successfully released via FundFriend."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fundfriend.com/transactions/21433245"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.00</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"fulfilled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in progress"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was released from Alice to Bob."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7e18eba-f5a1-45aa-a378-b4bcbbfbc4c6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assignmentXID</td>
<td>string</td>
<td>identifier for the associated assignment</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>a description of the assignment&rsquo;s current status</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h2 id="update-snapshot-push">Update Snapshot <em>(Push)</em></h2>

<p><code class="prettyprint">PATCH</code> pushed to the core path <code class="prettyprint">/snapshots/:xid</code></p>

<p><strong>This is an integration that originates in the adapter and is pushed from the adapter to the core.</strong></p>

<p>Only unfulfilled snapshots can be updated. When a snapshot is updated it is automatically marked as fulfilled.</p>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was successfully released via FundFriend."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://fundfriend.com/transactions/21433245"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">1000000.00</span><span class="p">,</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"fulfilled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in progress"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Payment was released from Alice to Bob."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d7e18eba-f5a1-45aa-a378-b4bcbbfbc4c6"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assignmentXID</td>
<td>string</td>
<td>identifier for the associated assignment</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>a description of the assignment&rsquo;s current status</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<h1 id="coordinator-updates">Coordinator Updates</h1>

<p>Once an assignment is created, it will automatically run and update itself based on its schedule and the logic in the adapter. Updates cannot be fed in by the coordinator, but the coordinator can receive push notifications whenever the assignment is updated. Simply set the URL of the assignment&rsquo;s coordinator to receive push notifications.</p>

<p>All push notifications are authorized with the same credentials used to create the assignment.</p>

<h2 id="create-assignment-oracle">Create Assignment Oracle</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"oracle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x72c8379f845bb3cb30e02ef1feb84742debc1efb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"jsonABI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract Oracle {\n  bytes32 currentValue;\n  address creator;\n\n  function Oracle() {\n    creator = msg.sender;\n  }\n\n  function update(bytes32 newCurrent) {\n    if (msg.sender != creator) return;\n    currentValue = newCurrent;\n  }\n\n  function current() constant returns (bytes32 current) {\n    return currentValue;\n  }\n\n  function () constant returns (bytes32 current) {\n    return currentValue;\n  }\n}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"readAddress"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9fa6a6e3"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"solidityABI"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contract Oracle{function Oracle();function update(bytes32 newCurrent);function current()constant returns(bytes32 current);}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0577c3e-9e5a-4840-9c9b-37d326c3d2e3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">POST</code> to <code class="prettyprint">/assignments/:xid/instructions</code></p>

<p>If an assignment needs some on-chain setup, it cannot immediately respond with all of its integration details on creation, it needs to wait for the blockchain confirmations before. Once the confirmations needed for the assignment set up have occured, the oracle will push integration instructions to the coordinator.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>string</td>
<td>Ethereum address location</td>
</tr>
<tr>
<td>jsonABI</td>
<td>string</td>
<td>a stringified version of the JSON ABI for the contract</td>
</tr>
<tr>
<td>readAddress</td>
<td>string</td>
<td>the hash for the read function of the Ethereum contract</td>
</tr>
<tr>
<td>solidityABI</td>
<td>string</td>
<td>the Solidity ABI to include in a contract using this oracle</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>the XID of the related assignment</td>
</tr>
</tbody></table>

<h2 id="create-assignment-snapshot">Create Assignment Snapshot</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"assignmentXID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0577c3e-9e5a-4840-9c9b-37d326c3d2e3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Blockchain ID: 0x5803d6bb728b002d5a9aedc2eebec404fcbc2e2966f5e81abe297995b2980046"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"descriptionURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://testnet.etherscan.io/tx/0x5803d6bb728b002d5a9aedc2eebec404fcbc2e2966f5e81abe297995b2980046"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"current"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000000034567123"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"98700000035511224"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"in progress"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"summary"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Assignment 'f0577c3e-9e5a-4840-9c9b-37d326c3d2e3' updated its value to \"1,000,000.00\""</span><span class="p">,</span><span class="w">
  </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1,000,000.00"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x5803d6bb728b002d5a9aedc2eebec404fcbc2e2966f5e81abe297995b2980046"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">POST</code> to <code class="prettyprint">/assignments/:assignment_xid/snapshots</code></p>

<p>Each time the assignment is updated it creates a snapshot. A snapshot is the current status of the assignment. Whenever a snapshot is created, it is pushed to the coordinator. Further information is provided in machine readable form in the <code class="prettyprint">details</code> section, in various formats depending on the adapter. Information is provided in human readable form in the <code class="prettyprint">summary</code> and <code class="prettyprint">description</code> fields, as well as the <code class="prettyprint">descriptionURL</code>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>assignmentXID</td>
<td>string</td>
<td>the XID of the related assignment</td>
</tr>
<tr>
<td>description</td>
<td>string</td>
<td>a detailed human readable description of the snapshot</td>
</tr>
<tr>
<td>descriptionURL</td>
<td>string</td>
<td>a supporting URL relating to the update</td>
</tr>
<tr>
<td>details</td>
<td>object</td>
<td>a JSON object of extra supporting information returned by the adapter</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>a description of the assignment&rsquo;s current status</td>
</tr>
<tr>
<td>summary</td>
<td>string</td>
<td>a short human readable summary of the snapshot</td>
</tr>
<tr>
<td>value</td>
<td>string</td>
<td>the latest value returned by the adapter</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>a unique external ID to identify the snapshot by</td>
</tr>
</tbody></table>

<aside class="success">
Snapshot IDs are unique, you should never receive duplicate snapshots.
</aside>

<h2 id="update-assignment">Update Assignment</h2>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"signatures"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"30450221009f4e3e0ab2ede2ca57a03ea67f6d16641568b214e38b650db95cd3490b3f213902202b8ba93235c6cafa4f8a643c72977427e8fde95a2e8010cb3336125182d62cef"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"xid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f0577c3e-9e5a-4840-9c9b-37d326c3d2e3"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p><code class="prettyprint">PATCH</code> to <code class="prettyprint">/assignments/:xid</code></p>

<p>When the assignment is finished, a notification will be pushed to the coordinator. If any signatures were needed from the oracle, for things like releasing Bitcoin escrow, a signature is returned in addition to a status update.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signatures</td>
<td>array(string)</td>
<td>if a signature is required, like for Bitcoin escrow, it returns a signature for the outcome that was determined</td>
</tr>
<tr>
<td>status</td>
<td>string</td>
<td>Either &ldquo;completed&rdquo; or &ldquo;failed&rdquo;</td>
</tr>
<tr>
<td>xid</td>
<td>string</td>
<td>the XID of the related assignment</td>
</tr>
</tbody></table>

          
      </div>
      <div class="dark-box">
          <div class="lang-selector">
          </div>
      </div>
    </div>
  </body>
</html>
